<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="favicons\music_note_32.ico" sizes="32x32">

  <title>Arpeggio Practice Generator</title>

  <!-- Link to external CSS -->
  <link rel="stylesheet" href="styles.css">

  <!-- VexFlow -->
  <script src="https://cdn.jsdelivr.net/npm/vexflow@4.2.2/build/cjs/vexflow.js"></script>

  <!-- Tonal -->
  <script src="https://cdn.jsdelivr.net/npm/tonal/browser/tonal.min.js"></script>

  <!-- VexChords -->
  <script src="libs/vexchords/vexchords.dev.js"></script>

  <!-- Fretboard.js UMD build -->
  <script src="libs/fretboard/fretboard.umd.js"></script>

  <!-- cagedShapes.js -->
  <script src="cagedShapes.js"></script>

</head>
<body>
  <div id="status">Checking VexFlow, Tonal and VexChords Libraries...</div>

  <h1>Arpeggio Practice Generator</h1>

  <!-- Form for User Input -->
  <form id="exerciseForm">
    <label for="key">Key:</label>
    <select id="key" name="key" required>
      <option value="" disabled selected>Select a Key</option>
      <!-- Common Keys -->
      <option value="C">C</option>
      <option value="C#">C# / Db</option>
      <option value="D">D</option>
      <option value="Eb">Eb</option>
      <option value="E">E</option>
      <option value="F">F</option>
      <option value="F#">F# / Gb</option>
      <option value="G">G</option>
      <option value="Ab">Ab</option>
      <option value="A">A</option>
      <option value="Bb">Bb</option>
      <option value="B">B</option>
    </select>

    <label for="progression">Chord Progression:</label>
    <select id="progression" name="progression" required>
      <option value="" disabled selected>Select a Progression</option>
      <option value="ii-V-I">ii - V - I</option>
      <option value="I-ii-iii-IV-V-vi-vii째">I - ii - iii - IV - V - vi - vii째</option>
      <option value="vii째-vi-V-IV-iii-ii-I">vii째 - vi - V - IV - iii - ii - I</option>
      <option value="I-IV-V">I - IV - V</option>
      <option value="I-V-vi-IV">I - V - vi - IV</option>
      <option value="I-IV-vi-V">I - IV - vi - V</option>
      <option value="vi-IV-I-V">vi - IV - I - V</option>
    </select>

    <!-- Added Number of Bars Input -->
    <label for="bars">Number of Bars:</label>
    <input type="number" id="bars" name="bars" value="4" min="1" required>

    <label for="shape">Chord Shape:</label>
    <select id="shape" name="shape" required>
      <option value="" disabled selected>Select a Shape</option>
      <option value="C">C Shape</option>
      <option value="A">A Shape</option>
      <option value="G">G Shape</option>
      <option value="E">E Shape</option>
      <option value="D">D Shape</option>
    </select>

    <!-- Removed onclick attribute -->
    <button type="button" id="generateButton">Generate Exercise</button>
  </form>

  <!-- Container for Chord Diagrams -->
  <div id="chords-container"></div>

  <!-- Container for Fretboard Diagrams -->
  <!-- <figure class="half-page banner" id="fretboard-container"></figure> -->

  <!-- Container for Music Notation -->
  <div id="notation"></div>

  <!-- Include the main script as a module -->
  <script type="module" src="flow.js"></script>

</body>
</html>
